(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{14:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n(1),s=n.n(r),c=n(7),i=n.n(c),a=n(2),l=n(8),d=[{id:1,title:"New note",body:""}],u=0,f={id:0};function j(){return 0===u&&(!function(){null===localStorage.getItem("LesoNotes")&&localStorage.setItem("LesoNotes","[]");void 0!==d&&(d.length=0,d.push.apply(d,Object(a.a)(m("get"))),console.error(m("get")))}(),u=1),d}function b(e,t){var n=Math.max.apply(Math,d.map((function(e){return e.id})));0===d.length&&(n=0);var o={id:n+1,title:e,body:t};return f.id=d.length+1,d.push(o),console.log(d),m("set",d),o}var m=function(e,t){if("set"===e)localStorage.clear(),localStorage.setItem("LesoNotes",JSON.stringify(t));else if("get"===e)return JSON.parse(localStorage.getItem("LesoNotes"))};n(14);function p(e){var t=e.name,n=e.desc,r=e.id,s=e.onClick;return Object(o.jsx)(o.Fragment,{children:Object(o.jsxs)("div",{id:r,onClick:s,className:"panelNote",children:[Object(o.jsx)("div",{className:"panelNoteTitle",children:t}),n]})})}var v,g=n(3);var h,O,N=(h=j(),O="body",function(e){return h.find((function(t){return t[O]===e}))}),x=function(e,t){!function(e){var t=d.findIndex((function(t){return t.id===e}));d.splice(t,1),m("set",d)}(v),t&&e(),console.log("Note run"),g.ToastsStore.error("Deleted note!")},y=function(e){var t=document.getElementsByClassName("writableArea")[0];null!==v?function(e,t,n){var o=d.findIndex((function(t){return t.id===e})),r={id:e,title:t,body:n};d.splice(o,1,r),m("set",d)}(v,t.innerHTML.slice(0,20),t.innerHTML):(b(t.innerHTML,t.innerHTML),N(j().pop().body===t.innerHTML)),e()};n(25);function S(e){e.name,e.desc,e.id,e.onClick;var t=e.notes,n=e.refreshList;return Object(o.jsxs)("div",{className:"panel",onClick:n,children:[Object(o.jsx)("span",{children:"Saved notes"}),Object(o.jsx)("button",{onClick:function(){return e=n,t=!0,b("New note",""),t&&e(),m("set",j()),void g.ToastsStore.success("Successfully created note!");var e,t},children:"Create new"}),t.map((function(e){return Object(o.jsx)(p,{onClick:function(){return t=e,Object(a.a)(document.querySelectorAll(".panelNote")).map((function(e){e.style.backgroundColor="white"})),v=t.id,void 0!==t.body&&(document.getElementsByClassName("writableArea")[0].innerHTML=t.body),void(document.getElementById(t.id).style.backgroundColor="gray");var t},name:e.title,desc:e.desc,id:e.id})}))]})}n(26);function L(e){e.id;var t=e.placeholder,n=(e.value,e.refreshList);e.notes;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("div",{onClick:function(){return x(n,!0)},className:"trash"}),Object(o.jsx)("div",{className:"textarea",children:Object(o.jsx)("div",{id:"text",className:"writableArea",placeholder:t,contentEditable:"true",onInput:function(){y(n)}})})]})}function C(){null===localStorage.getItem("LesoNotes")&&localStorage.setItem("LesoNotes","[]");var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],s=t[1];Object(r.useEffect)((function(){s(j)}),[s]);var c=function(){var e=j;s(Object(a.a)(e()))};return Object(o.jsxs)("div",{className:"Layout",children:[Object(o.jsx)(S,{notes:n,name:"SandCastle",desc:"Rolling around..",refreshList:c,id:1}),Object(o.jsx)(L,{refreshList:c,placeholder:"Write something"}),Object(o.jsx)(g.ToastsContainer,{store:g.ToastsStore})]})}var k=document.getElementById("root");i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(C,{})}),k)}},[[27,1,2]]]);
//# sourceMappingURL=main.b97f3de3.chunk.js.map